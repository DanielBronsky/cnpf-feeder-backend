# –ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Onion Architecture

## ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é!

### 1. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã UseCase

**Auth –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `Register` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≤–∞—Ç–∞—Ä–∞
- ‚úÖ `Login` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ `Logout` - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**User –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `GetCurrentUser` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ `UpdateProfile` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≤–∞—Ç–∞—Ä–∞
- ‚úÖ `UpdatePassword` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**Reports –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `GetReports` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª–∏–º–∏—Ç–∞ –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ `GetReport` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ `CreateReport` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–æ—Ç–æ
- ‚úÖ `UpdateReport` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–æ—Ç–æ
- ‚úÖ `DeleteReport` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**Competitions –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `GetCompetitions` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ `GetCompetition` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ `CreateCompetition` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –ø–∞—Ä—Å–∏–Ω–≥–æ–º –¥–∞—Ç
- ‚úÖ `UpdateCompetition` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –ø–∞—Ä—Å–∏–Ω–≥–æ–º –¥–∞—Ç
- ‚úÖ `DeleteCompetition` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**Admin –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `GetAdminUsers` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ `GetAdminUser` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ `AdminUpdateUser` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–¥–º–∏–Ω–∞
- ‚úÖ `AdminDeleteUser` - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 2. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ Resolvers –Ω–∞ UseCase

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ UseCase:**
- ‚úÖ `Register` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.Register`
- ‚úÖ `Login` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.Login`
- ‚úÖ `Logout` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.Logout`
- ‚úÖ `Me` (GetCurrentUser) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetCurrentUser`
- ‚úÖ `UpdateProfile` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.UpdateProfile`
- ‚úÖ `UpdatePassword` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.UpdatePassword`
- ‚úÖ `CreateReport` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.CreateReport`
- ‚úÖ `UpdateReport` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.UpdateReport`
- ‚úÖ `DeleteReport` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.DeleteReport`
- ‚úÖ `Reports` (GetReports) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetReports`
- ‚úÖ `Report` (GetReport) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetReport`
- ‚úÖ `CreateCompetition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.CreateCompetition`
- ‚úÖ `UpdateCompetition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.UpdateCompetition`
- ‚úÖ `DeleteCompetition` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.DeleteCompetition`
- ‚úÖ `Competitions` (GetCompetitions) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetCompetitions`
- ‚úÖ `Competition` (GetCompetition) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetCompetition`
- ‚úÖ `AdminUpdateUser` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.AdminUpdateUser`
- ‚úÖ `AdminDeleteUser` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.AdminDeleteUser`
- ‚úÖ `AdminUsers` (GetAdminUsers) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetAdminUsers`
- ‚úÖ `AdminUser` (GetAdminUser) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `r.useCase.GetAdminUser`

### 3. –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã entity ‚Üí GraphQL –≤ UseCase

**–°–æ–∑–¥–∞–Ω—ã –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã –≤ UseCase:**
- ‚úÖ `entityToGraphQLUser()` - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `*entity.User` ‚Üí `*model.User`
- ‚úÖ `entityToGraphQLReport()` - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `*entity.Report` ‚Üí `*model.Report` (—Å –∞–≤—Ç–æ—Ä–æ–º –∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞)
- ‚úÖ `entityToGraphQLCompetition()` - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `*entity.Competition` ‚Üí `*model.Competition`

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `internal/usecase/usecase.go`

### 4. –†–∞—Å—à–∏—Ä–µ–Ω—ã –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

**entity.Competition:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø–æ–ª—è –∏–∑ GraphQL —Å—Ö–µ–º—ã:
  - `Title`, `Location`, `Tours`, `OpeningDate`, `OpeningTime`
  - `IndividualFormat`, `TeamFormat`, `Fee`, `TeamLimit`, `Regulations`
  - `CreatedAt`, `UpdatedAt`

**entity.Report:**
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç GraphQL –º–æ–¥–µ–ª–∏

**entity.User:**
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç GraphQL –º–æ–¥–µ–ª–∏

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Resolver

**NewResolver:**
- ‚úÖ –¢–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ `useCase` (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–¥–∞–ª–µ–Ω—ã)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `usecase.UseCase` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Application —Å–ª–æ—è

**Resolver —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ `useCase usecase.UseCase`
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Onion Architecture

## üìä –°—Ç–∞—Ç—É—Å

### –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é (100%)
- ‚úÖ Auth –æ–ø–µ—Ä–∞—Ü–∏–∏ (Register, Login, Logout) - —á–µ—Ä–µ–∑ UseCase
- ‚úÖ User –æ–ø–µ—Ä–∞—Ü–∏–∏ (GetCurrentUser, UpdateProfile, UpdatePassword) - —á–µ—Ä–µ–∑ UseCase
- ‚úÖ Reports –æ–ø–µ—Ä–∞—Ü–∏–∏ - —á–µ—Ä–µ–∑ UseCase
- ‚úÖ Competitions –æ–ø–µ—Ä–∞—Ü–∏–∏ - —á–µ—Ä–µ–∑ UseCase
- ‚úÖ Admin –æ–ø–µ—Ä–∞—Ü–∏–∏ - —á–µ—Ä–µ–∑ UseCase

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –í—Å–µ resolver'—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ UseCase
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã UseCase —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ Resolver
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã entity ‚Üí GraphQL –≤ UseCase
- ‚úÖ Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ **100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Onion Architecture**

## ‚úÖ –í—ã–≤–æ–¥

**Onion Architecture –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞!**

–í—Å–µ –º–µ—Ç–æ–¥—ã UseCase —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã. –í—Å–µ Resolver'—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç UseCase. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ Resolver. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ–±–ª—é–¥–µ–Ω.

**–ü—Ä–æ–µ–∫—Ç –Ω–∞ 100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Onion Architecture!**
