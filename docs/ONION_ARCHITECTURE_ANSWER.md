# –û—Ç–≤–µ—Ç: –ü–æ—Å—Ç—Ä–æ–µ–Ω –ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ Onion Architecture?

## üìä –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–î–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é!**

–ü—Ä–æ–µ–∫—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ Onion Architecture** –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º.

---

## ‚úÖ –ß—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Onion Architecture

### 1. Domain Layer (–¶–µ–Ω—Ç—Ä) - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (`entity.User`, `entity.Report`, `entity.Competition`) —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∏ –æ—Ç —á–µ–≥–æ
- ‚úÖ –≠—Ç–æ —á–∏—Å—Ç—ã–π —Ü–µ–Ω—Ç—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 2. Repository Interfaces - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `internal/repository/interface/`
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ domain —Å–ª–æ–µ

### 3. Infrastructure Layer - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ MongoDB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç –º–µ–∂–¥—É entity –∏ MongoDB –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

### 4. Application Layer (UseCase) - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (–Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–æ–º–µ–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ **–í—Å–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã** (Auth, User, Reports, Competitions, Admin)

### 5. Presentation Layer (Resolver) - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç UseCase** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–æ–º–µ–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —á–µ—Ä–µ–∑ UseCase
- ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã entity ‚Üí GraphQL –≤ UseCase

---

## üìä –¢–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ (–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏):
```
Resolver ‚Üí UseCase ‚Üí Repository Interface ‚Üí Domain Entity
                                    ‚Üì
                            MongoDB Implementation
```

**–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ UseCase!**

---

## üéØ –û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Onion Architecture

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| Domain Layer –≤ —Ü–µ–Ω—Ç—Ä–µ | ‚úÖ 100% | –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∏ –æ—Ç —á–µ–≥–æ |
| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ | ‚úÖ 100% | –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ domain —Å–ª–æ–µ |
| Infrastructure —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã | ‚úÖ 100% | MongoDB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã |
| UseCase –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã | ‚úÖ 100% | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |
| Resolver –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UseCase | ‚úÖ 100% | –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç UseCase |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å | ‚úÖ 100% | –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –∫ —Ü–µ–Ω—Ç—Ä—É (Domain) |
| Entity —Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–µ–∑–¥–µ | ‚úÖ 100% | –í—Å–µ resolver'—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å entity —Ç–∏–ø–∞–º–∏ —á–µ—Ä–µ–∑ UseCase |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Onion Architecture**

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è** - –≤—Å–µ —Å–ª–æ–∏ –Ω–∞ –º–µ—Å—Ç–µ
2. **Domain –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –Ω–∏ –æ—Ç —á–µ–≥–æ** - —á–∏—Å—Ç—ã–π —Ü–µ–Ω—Ç—Ä
3. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è** - Dependency Inversion —Ä–∞–±–æ—Ç–∞–µ—Ç
4. **Entity —Ç–∏–ø—ã –≤–µ–∑–¥–µ** - –≤—Å–µ resolver'—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –¥–æ–º–µ–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —á–µ—Ä–µ–∑ UseCase
5. **–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã –≤ UseCase** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
6. **–í—Å–µ –º–µ—Ç–æ–¥—ã UseCase —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã** - –ø–æ–ª–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ Application —Å–ª–æ–µ
7. **Resolver –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ UseCase** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## üìù –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ß–∏—Å—Ç–∞—è Onion Architecture:
```
Presentation ‚Üí Application ‚Üí Domain ‚Üê Infrastructure
```

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
```
Presentation ‚Üí Application ‚Üí Domain ‚Üê Infrastructure
     ‚úÖ              ‚úÖ          ‚úÖ          ‚úÖ
```

**–ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ!** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–∏.

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–î–∞, –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ Onion Architecture!**

- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è** - –≤—Å–µ —Å–ª–æ–∏ –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ **–ü—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–±–ª—é–¥–µ–Ω—ã** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å
- ‚úÖ **Domain –≤ —Ü–µ–Ω—Ç—Ä–µ** - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –Ω–∏ –æ—Ç —á–µ–≥–æ
- ‚úÖ **UseCase –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** - –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **Resolver –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ UseCase** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ü—Ä–æ–µ–∫—Ç –Ω–∞ 100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Onion Architecture!**

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. ‚úÖ **Dependency Inversion** - UseCase –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –Ω–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
2. ‚úÖ **Separation of Concerns** - –∫–∞–∂–¥—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç —Å–≤–æ—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
3. ‚úÖ **Domain-Driven Design** - –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ
4. ‚úÖ **Clean Architecture** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å
5. ‚úÖ **Single Responsibility** - –∫–∞–∂–¥—ã–π —Å–ª–æ–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å

**–í—Å–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–±–ª—é–¥–µ–Ω—ã!**
