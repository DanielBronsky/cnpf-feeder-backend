# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Docker —Å–±–æ—Ä–∫–æ–π

## –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ GraphQL –∫–æ–¥–∞ –≤ Docker:

```
missing go.sum entry for module providing package...
```

## –†–µ—à–µ–Ω–∏–µ

Dockerfile –±—ã–ª –æ–±–Ω–æ–≤–ª–µ–Ω. –¢–µ–ø–µ—Ä—å –æ–Ω:

1. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç gqlgen —á–µ—Ä–µ–∑ `go install`
2. ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç `/go/bin` –≤ PATH
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç fallback –Ω–∞ `go run` –µ—Å–ª–∏ gqlgen –Ω–µ –Ω–∞–π–¥–µ–Ω

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

```bash
cd /Users/daniel/projects/cnpf-feeder-backend

# 1. –û—á–∏—Å—Ç–∫–∞
docker compose down
docker builder prune -f

# 2. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
docker compose build --no-cache backend

# 3. –ó–∞–ø—É—Å–∫
docker compose up mongo backend
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è)

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å GraphQL –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π Docker:

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
go generate ./graph

# –ó–∞—Ç–µ–º —Å–æ–±—Ä–∞—Ç—å Docker (–∫–æ–¥ —É–∂–µ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω)
docker compose build backend
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ Dockerfile –Ω–µ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, —Ç–∞–∫ –∫–∞–∫ —Ñ–∞–π–ª—ã —É–∂–µ –±—É–¥—É—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å.
